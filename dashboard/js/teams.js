(()=>{"use strict";var e,t={7164:(e,t)=>{t.DF={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM384 288H205.3l49.38 49.38c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0L105.4 278.6C97.4 270.7 96 260.9 96 256c0-4.883 1.391-14.66 9.398-22.65l103.1-103.1c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L205.3 224H384c17.69 0 32 14.33 32 32S401.7 288 384 288z"]},t.a0=t.DF},2122:(e,t)=>{t.DF={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM406.6 278.6l-103.1 103.1c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L306.8 288H128C110.3 288 96 273.7 96 256s14.31-32 32-32h178.8l-49.38-49.38c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l103.1 103.1C414.6 241.3 416 251.1 416 256C416 260.9 414.6 270.7 406.6 278.6z"]},t.sw=t.DF},2716:(e,t)=>{t.DF={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},t.r8=t.DF},430:(e,t,l)=>{l.d(t,{Z:()=>i});var a=l(9601),n=l.n(a),o=l(2609),r=l.n(o)()(n());r.push([e.id,".team-player-row{padding:4px 8px 8px;border-top:1px solid #2f3a4f;min-height:44px}.team-player-row:nth-child(even){background-color:rgba(47,58,79,.5)}",""]);const i=r},2452:(e,t,l)=>{l(4467);var a=l(7875),n=l(349),o=l(641),r=l(8127),i=l(1901),c=l(8751),s=l(9745);const d=[nodecg.Replicant("teamStore")],m=(0,s.Q_)("teams",{state:()=>({teamStore:null}),actions:{save(e){return t=this,l=void 0,n=function*(){return nodecg.sendMessage("teams:save",e)},new((a=void 0)||(a=Promise))((function(e,o){function r(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(t){var l;t.done?e(t.value):(l=t.value,l instanceof a?l:new a((function(e){e(l)}))).then(r,i)}c((n=n.apply(t,l||[])).next())}));var t,l,a,n},reset:()=>nodecg.sendMessage("teams:reset"),delete:e=>nodecg.sendMessage("teams:delete",e)}});var u=l(908);const p=(0,a.aZ)({name:"TeamList",components:{IplSpace:r.IplSpace,IplButton:r.IplButton},props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=m();return{teamStore:l,addDots:u.f,model:(0,o.Fl)({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),resetTeams(){l.reset()}}}});var v=l(4407);const f=(0,v.Z)(p,[["render",function(e,t,l,o,r,i){const c=(0,a.up)("ipl-button"),s=(0,a.up)("ipl-space");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s,{color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Reset teams","requires-confirmation":"",color:"red",onClick:e.resetTeams},null,8,["onClick"])])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.teamStore.teamStore,(t=>((0,a.wg)(),(0,a.j4)(s,{key:t.id,color:e.model===t.id?"blue":"light",clickable:"",class:"m-t-8",onClick:l=>e.model=t.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.addDots(t.name)),1)])),_:2},1032,["color","onClick"])))),128))],64)}]]);var g=l(7164),w=l(2122);const y={class:"layout horizontal center-vertical m-x-8 m-b-8"},h=(0,a._)("div",{class:"max-width text-semibold"},"Players",-1),b={key:0,class:"layout horizontal center-vertical team-player-row"},T=["onClick"];var k=l(2716),x=l(9850),I=l.n(x),C=l(4847),S=l(8149),D=l.n(S),W=function(e,t,l,a){return new(l||(l=Promise))((function(n,o){function r(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};c.vI.add(k.r8,C.NB);const O=(0,a.aZ)({name:"TeamEditor",components:{IplInput:r.IplInput,IplSpace:r.IplSpace,IplButton:r.IplButton,FontAwesomeIcon:i.GN},props:{selectedTeam:{type:Object,required:!0},isNewTeam:{type:Boolean,required:!0}},emits:["update","delete"],setup(e,{emit:t}){const l=(0,o.iH)(I()(e.selectedTeam)),n=m();return(0,a.YP)((()=>e.selectedTeam),((e,t)=>{D()(e,t)||(l.value=I()(e))})),{internalTeam:l,internalTeamHasChanges:(0,o.Fl)((()=>!D()(e.selectedTeam,l.value))),onUpdate(){return W(this,void 0,void 0,(function*(){const e=I()(l.value);e.players=e.players.filter((e=>!e.markedForDeletion)).map((e=>(delete e.markedForDeletion,e)));const a=yield n.save(e);t("update",a)}))},removePlayer(e){const t=l.value.players[e];null!=t.id?t.markedForDeletion=!0:l.value.players.splice(e,1)},addPlayer(){l.value.players.push({id:void 0,name:""})},disableDeletion:(0,o.Fl)((()=>Object.keys(n.teamStore).length<=1)),deleteTeam(){return W(this,void 0,void 0,(function*(){yield n.delete(e.selectedTeam.id),t("delete")}))}}}});var _=l(6062),F=l.n(_),P=l(4036),H=l.n(P),U=l(6793),V=l.n(U),N=l(7892),z=l.n(N),j=l(1173),Z=l.n(j),B=l(2464),M=l.n(B),L=l(430),E={};E.styleTagTransform=M(),E.setAttributes=z(),E.insert=V().bind(null,"head"),E.domAPI=H(),E.insertStyleElement=Z(),F()(L.Z,E),L.Z&&L.Z.locals&&L.Z.locals;const Y=(0,v.Z)(O,[["render",function(e,t,l,o,r,i){const c=(0,a.up)("ipl-input"),s=(0,a.up)("ipl-space"),d=(0,a.up)("ipl-button");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:e.internalTeam.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalTeam.name=t),name:"team-name",label:"Name (Optional)"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{class:"m-t-8",style:{padding:"8px 0 0"}},{default:(0,a.w5)((()=>{var t;return[(0,a._)("div",y,[h,(0,a.Wm)(d,{icon:"plus",color:"green",class:"m-l-8",small:"",onClick:e.addPlayer},null,8,["onClick"])]),(null===(t=e.internalTeam.players)||void 0===t?void 0:t.length)<=0?((0,a.wg)(),(0,a.iD)("div",b," No players have been added. ")):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(e.internalTeam.players,((t,l)=>((0,a.wg)(),(0,a.iD)("div",{key:`${t.id}_${l}`,class:"layout horizontal center-vertical team-player-row"},[t.markedForDeletion?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Uk)(' "'+(0,n.zw)(t.name)+'" will be deleted. Â ',1),(0,a._)("a",{onClick:e=>delete t.markedForDeletion},"Undo",8,T)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(c,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,label:"Name",name:"player-name",class:"max-width"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(d,{icon:"times",small:"",class:"m-l-8",color:"red",onClick:t=>e.removePlayer(l)},null,8,["onClick"])],64))])))),128))]})),_:1}),(0,a.Wm)(s,{class:"m-t-8 layout horizontal"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:e.isNewTeam?"Save":"Update",color:e.isNewTeam?"green":e.internalTeamHasChanges?"red":"blue",onClick:e.onUpdate},null,8,["label","color","onClick"]),e.isNewTeam?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:0,label:"Delete team",class:"m-l-8",color:"red","requires-confirmation":"",disabled:e.disableDeletion,onClick:e.deleteTeam},null,8,["disabled","onClick"]))])),_:1})])}]]);var q=l(3312);c.vI.add(g.a0,w.sw);const A=(0,a.aZ)({name:"TeamsPanel",components:{ErrorLog:q.Z,TeamEditor:Y,IplToggleButton:r.IplToggleButton,TeamList:f,IplSidebar:r.IplSidebar,IplButton:r.IplButton,IplSpace:r.IplSpace,FontAwesomeIcon:i.GN},setup(){const e=m(),t=(0,o.iH)(!1),l=(0,o.iH)(!1),n=(0,o.iH)(e.teamStore[0].id),r=(0,o.Fl)((()=>e.teamStore.find((e=>e.id===n.value)))),i=(0,o.Fl)((()=>l.value?{name:"",players:[]}:r.value));return(0,a.YP)(n,(()=>{t.value=!1})),(0,a.YP)(r,(t=>{t||(n.value=e.teamStore[0].id)})),{addDots:u.f,teamListOpen:t,creatingTeam:l,selectedTeamId:n,onUpdate(e){n.value=e,l.value=!1},selectNextTeam(){const t=e.teamStore.findIndex((e=>e.id===n.value));t<0||(n.value=e.teamStore[function(e,t){return t===e.length-1?0:t+1}(e.teamStore,t)].id)},selectPreviousTeam(){const t=e.teamStore.findIndex((e=>e.id===n.value));t<0||(n.value=e.teamStore[function(e,t){return 0===t?e.length-1:t-1}(e.teamStore,t)].id)},selectedTeam:r,teamInTeamEditor:i}}}),G=(0,v.Z)(A,[["render",function(e,t,l,o,r,i){const c=(0,a.up)("error-log"),s=(0,a.up)("ipl-toggle-button"),d=(0,a.up)("ipl-space"),m=(0,a.up)("font-awesome-icon"),u=(0,a.up)("team-editor"),p=(0,a.up)("team-list"),v=(0,a.up)("ipl-sidebar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:e.creatingTeam,"onUpdate:modelValue":t[0]||(t[0]=t=>e.creatingTeam=t),label:"Add team"},null,8,["modelValue"])])),_:1}),e.creatingTeam?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:0,class:"layout horizontal m-t-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{color:"light",class:"text-center",clickable:"",onClick:e.selectPreviousTeam},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{icon:"circle-arrow-left",class:"text-size-medium"})])),_:1},8,["onClick"]),(0,a.Wm)(d,{color:"light",class:"m-l-8 text-center max-width",clickable:"",onClick:t[1]||(t[1]=t=>e.teamListOpen=!0)},{default:(0,a.w5)((()=>{var t;return[(0,a.Uk)((0,n.zw)(e.addDots(null===(t=e.selectedTeam)||void 0===t?void 0:t.name)),1)]})),_:1}),(0,a.Wm)(d,{color:"light",class:"m-l-8 text-center",clickable:"",onClick:e.selectNextTeam},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{icon:"circle-arrow-right",class:"text-size-medium"})])),_:1},8,["onClick"])])),_:1})),e.teamInTeamEditor?((0,a.wg)(),(0,a.j4)(u,{key:1,"selected-team":e.teamInTeamEditor,"is-new-team":e.creatingTeam,class:"m-t-8",onUpdate:e.onUpdate,onDelete:e.selectNextTeam},null,8,["selected-team","is-new-team","onUpdate","onDelete"])):(0,a.kq)("",!0),(0,a.Wm)(v,{"is-open":e.teamListOpen,"onUpdate:is-open":t[3]||(t[3]=t=>e.teamListOpen=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{modelValue:e.selectedTeamId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedTeamId=t)},null,8,["modelValue"])])),_:1},8,["is-open"])],64)}]]);var K,R,$=l(4825),Q=l(1762),J=l(2076);R=function*(){const e=(0,$.ri)(G);e.use((0,s.WB)()),yield(0,Q.r)(d,m()),(0,J.E)(e),e.mount("#app")},new((K=void 0)||(K=Promise))((function(e,t){function l(e){try{n(R.next(e))}catch(e){t(e)}}function a(e){try{n(R.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):(n=t.value,n instanceof K?n:new K((function(e){e(n)}))).then(l,a)}n((R=R.apply(void 0,[])).next())}))}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var o=l[e]={id:e,loaded:!1,exports:{}};return t[e](o,o.exports,a),o.loaded=!0,o.exports}a.m=t,e=[],a.O=(t,l,n,o)=>{if(!l){var r=1/0;for(d=0;d<e.length;d++){for(var[l,n,o]=e[d],i=!0,c=0;c<l.length;c++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](l[c])))?l.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={713:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var n,o,[r,i,c]=l,s=0;if(r.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var d=c(a)}for(t&&t(l);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},l=self.webpackChunk=self.webpackChunk||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})(),a.nc=void 0;var n=a.O(void 0,[519,745,869,852],(()=>a(2452)));n=a.O(n)})();