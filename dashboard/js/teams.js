(()=>{"use strict";var e,t={7164:(e,t)=>{t.DF={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM384 288H205.3l49.38 49.38c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0L105.4 278.6C97.4 270.7 96 260.9 96 256c0-4.883 1.391-14.66 9.398-22.65l103.1-103.1c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L205.3 224H384c17.69 0 32 14.33 32 32S401.7 288 384 288z"]},t.a0=t.DF},2122:(e,t)=>{t.DF={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM406.6 278.6l-103.1 103.1c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L306.8 288H128C110.3 288 96 273.7 96 256s14.31-32 32-32h178.8l-49.38-49.38c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l103.1 103.1C414.6 241.3 416 251.1 416 256C416 260.9 414.6 270.7 406.6 278.6z"]},t.sw=t.DF},2716:(e,t)=>{t.DF={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},t.r8=t.DF},9425:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(9601),n=a.n(l),o=a(2609),r=a.n(o)()(n());r.push([e.id,".team-player-row{padding:4px 8px 8px;border-top:1px solid #2f3a4f;min-height:44px}.team-player-row:nth-child(even){background-color:rgba(47,58,79,.5)}",""]);const i=r},7258:(e,t,a)=>{a(4467);var l=a(7875),n=a(349),o=a(641),r=a(8127),i=a(1901),c=a(8751),m=a(9745);const d=[nodecg.Replicant("teamStore")],s=(0,m.Q_)("teams",{state:()=>({teamStore:null})});var u=a(908),p=a(9462);const v=(0,l.aZ)({name:"TeamList",components:{IplSpace:r.IplSpace,IplButton:r.IplButton},props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:(e,{emit:t})=>({teamStore:s(),addDots:u.f,model:(0,o.Fl)({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),resetTeams(){return e=this,t=void 0,l=function*(){yield(0,p.b)("teams:reset")},new((a=void 0)||(a=Promise))((function(n,o){function r(e){try{c(l.next(e))}catch(e){o(e)}}function i(e){try{c(l.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,i)}c((l=l.apply(e,t||[])).next())}));var e,t,a,l}})});var f=a(4407);const y=(0,f.Z)(v,[["render",function(e,t,a,o,r,i){const c=(0,l.up)("ipl-button"),m=(0,l.up)("ipl-space");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(m,{color:"light"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{label:"Reset teams","requires-confirmation":"",color:"red",onClick:e.resetTeams},null,8,["onClick"])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.teamStore.teamStore,(t=>((0,l.wg)(),(0,l.j4)(m,{key:t.id,color:e.model===t.id?"blue":"light",clickable:"",class:"m-t-8",onClick:a=>e.model=t.id},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.addDots(t.name)),1)])),_:2},1032,["color","onClick"])))),128))],64)}]]);var w=a(7164),h=a(2122);const g={class:"layout horizontal center-vertical m-x-8 m-b-8"},b=(0,l._)("div",{class:"max-width text-semibold"},"Players",-1),T={key:0,class:"layout horizontal center-vertical team-player-row"},k=["onClick"];var x=a(2716),I=a(9850),C=a.n(I),S=a(4847),D=a(8149),N=a.n(D),W=function(e,t,a,l){return new(a||(a=Promise))((function(n,o){function r(e){try{c(l.next(e))}catch(e){o(e)}}function i(e){try{c(l.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,i)}c((l=l.apply(e,t||[])).next())}))};c.vI.add(x.r8,S.NB);const P=(0,l.aZ)({name:"TeamEditor",components:{IplInput:r.IplInput,IplSpace:r.IplSpace,IplButton:r.IplButton,FontAwesomeIcon:i.GN},props:{selectedTeam:{type:Object,required:!0},isNewTeam:{type:Boolean,required:!0}},emits:["update","delete"],setup(e,{emit:t}){const a=(0,o.iH)(C()(e.selectedTeam)),n=s();return(0,l.YP)((()=>e.selectedTeam),((e,t)=>{N()(e,t)||(a.value=C()(e))})),{internalTeam:a,internalTeamHasChanges:(0,o.Fl)((()=>!N()(e.selectedTeam,a.value))),onUpdate(){return W(this,void 0,void 0,(function*(){const e=C()(a.value);e.players=e.players.filter((e=>!e.markedForDeletion)).map((e=>(delete e.markedForDeletion,e)));const l=yield(0,p.b)("teams:save",e);t("update",l)}))},removePlayer(e){const t=a.value.players[e];null!=t.id?t.markedForDeletion=!0:a.value.players.splice(e,1)},addPlayer(){a.value.players.push({id:void 0,name:"",minecraftName:""})},disableDeletion:(0,o.Fl)((()=>Object.keys(n.teamStore).length<=1)),deleteTeam(){return W(this,void 0,void 0,(function*(){yield(0,p.b)("teams:delete",e.selectedTeam.id),t("delete")}))},setPlayerName(e,t){const l=a.value.players[t];l.name===l.minecraftName&&(l.minecraftName=e),l.name=e}}}});var U=a(6062),O=a.n(U),_=a(4036),F=a.n(_),V=a(6793),H=a.n(V),z=a(7892),j=a.n(z),Z=a(1173),B=a.n(Z),L=a(2464),E=a.n(L),M=a(9425),Y={};Y.styleTagTransform=E(),Y.setAttributes=j(),Y.insert=H().bind(null,"head"),Y.domAPI=F(),Y.insertStyleElement=B(),O()(M.Z,Y),M.Z&&M.Z.locals&&M.Z.locals;const q=(0,f.Z)(P,[["render",function(e,t,a,o,r,i){const c=(0,l.up)("ipl-input"),m=(0,l.up)("ipl-space"),d=(0,l.up)("ipl-button");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:e.internalTeam.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalTeam.name=t),name:"team-name",label:"Name (Optional)"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(m,{class:"m-t-8",style:{padding:"8px 0 0"}},{default:(0,l.w5)((()=>{var t;return[(0,l._)("div",g,[b,(0,l.Wm)(d,{icon:"plus",color:"green",class:"m-l-8",small:"",onClick:e.addPlayer},null,8,["onClick"])]),(null===(t=e.internalTeam.players)||void 0===t?void 0:t.length)<=0?((0,l.wg)(),(0,l.iD)("div",T," No players have been added. ")):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(e.internalTeam.players,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:`${t.id}_${a}`,class:"layout horizontal center-vertical team-player-row"},[t.markedForDeletion?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)(' "'+(0,n.zw)(t.name)+'" will be deleted. Â ',1),(0,l._)("a",{onClick:e=>delete t.markedForDeletion},"Undo",8,k)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(c,{"model-value":t.name,label:"Name",name:"player-name",class:"max-width","onUpdate:modelValue":t=>e.setPlayerName(t,a)},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(c,{modelValue:t.minecraftName,"onUpdate:modelValue":e=>t.minecraftName=e,label:"Minecraft IGN or UUID",name:"minecraft-name",class:"max-width m-l-8"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(d,{icon:"times",small:"",class:"m-l-8",color:"red",onClick:t=>e.removePlayer(a)},null,8,["onClick"])],64))])))),128))]})),_:1}),(0,l.Wm)(m,{class:"m-t-8 layout horizontal"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:e.isNewTeam?"Save":"Update",color:e.isNewTeam?"green":e.internalTeamHasChanges?"red":"blue",onClick:e.onUpdate},null,8,["label","color","onClick"]),e.isNewTeam?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:0,label:"Delete team",class:"m-l-8",color:"red","requires-confirmation":"",disabled:e.disableDeletion,onClick:e.deleteTeam},null,8,["disabled","onClick"]))])),_:1})])}]]);var A=a(2284);c.vI.add(w.a0,h.sw);const G=(0,l.aZ)({name:"TeamsPanel",components:{ErrorLog:A.Z,TeamEditor:q,IplToggleButton:r.IplToggleButton,TeamList:y,IplSidebar:r.IplSidebar,IplButton:r.IplButton,IplSpace:r.IplSpace,FontAwesomeIcon:i.GN},setup(){const e=s(),t=(0,o.iH)(!1),a=(0,o.iH)(!1),n=(0,o.iH)(e.teamStore[0].id),r=(0,o.Fl)((()=>e.teamStore.find((e=>e.id===n.value)))),i=(0,o.Fl)((()=>a.value?{name:"",players:[]}:r.value));return(0,l.YP)(n,(()=>{t.value=!1})),(0,l.YP)(r,(t=>{t||(n.value=e.teamStore[0].id)})),{addDots:u.f,teamListOpen:t,creatingTeam:a,selectedTeamId:n,onUpdate(e){n.value=e,a.value=!1},selectNextTeam(){const t=e.teamStore.findIndex((e=>e.id===n.value));t<0||(n.value=e.teamStore[function(e,t){return t===e.length-1?0:t+1}(e.teamStore,t)].id)},selectPreviousTeam(){const t=e.teamStore.findIndex((e=>e.id===n.value));t<0||(n.value=e.teamStore[function(e,t){return 0===t?e.length-1:t-1}(e.teamStore,t)].id)},selectedTeam:r,teamInTeamEditor:i}}}),K=(0,f.Z)(G,[["render",function(e,t,a,o,r,i){const c=(0,l.up)("error-log"),m=(0,l.up)("ipl-toggle-button"),d=(0,l.up)("ipl-space"),s=(0,l.up)("font-awesome-icon"),u=(0,l.up)("team-editor"),p=(0,l.up)("team-list"),v=(0,l.up)("ipl-sidebar");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:e.creatingTeam,"onUpdate:modelValue":t[0]||(t[0]=t=>e.creatingTeam=t),label:"Add team"},null,8,["modelValue"])])),_:1}),e.creatingTeam?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:0,class:"layout horizontal m-t-8"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{color:"light",class:"text-center layout center-vertical",clickable:"",onClick:e.selectPreviousTeam},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{icon:"circle-arrow-left",class:"text-size-medium"})])),_:1},8,["onClick"]),(0,l.Wm)(d,{color:"light",class:"m-l-8 text-center max-width",clickable:"",onClick:t[1]||(t[1]=t=>e.teamListOpen=!0)},{default:(0,l.w5)((()=>{var t;return[(0,l.Uk)((0,n.zw)(e.addDots(null===(t=e.selectedTeam)||void 0===t?void 0:t.name)),1)]})),_:1}),(0,l.Wm)(d,{color:"light",class:"m-l-8 text-center layout center-vertical",clickable:"",onClick:e.selectNextTeam},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{icon:"circle-arrow-right",class:"text-size-medium"})])),_:1},8,["onClick"])])),_:1})),e.teamInTeamEditor?((0,l.wg)(),(0,l.j4)(u,{key:1,"selected-team":e.teamInTeamEditor,"is-new-team":e.creatingTeam,class:"m-t-8",onUpdate:e.onUpdate,onDelete:e.selectNextTeam},null,8,["selected-team","is-new-team","onUpdate","onDelete"])):(0,l.kq)("",!0),(0,l.Wm)(v,{"is-open":e.teamListOpen,"onUpdate:is-open":t[3]||(t[3]=t=>e.teamListOpen=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:e.selectedTeamId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedTeamId=t)},null,8,["modelValue"])])),_:1},8,["is-open"])],64)}]]);var R,$,Q=a(4825),J=a(1762),X=a(2076);$=function*(){const e=(0,Q.ri)(K);e.use((0,m.WB)()),yield(0,J.r)(d,s()),(0,X.E)(e),e.mount("#app")},new((R=void 0)||(R=Promise))((function(e,t){function a(e){try{n($.next(e))}catch(e){t(e)}}function l(e){try{n($.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):(n=t.value,n instanceof R?n:new R((function(e){e(n)}))).then(a,l)}n(($=$.apply(void 0,[])).next())}))}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={id:e,loaded:!1,exports:{}};return t[e](o,o.exports,l),o.loaded=!0,o.exports}l.m=t,e=[],l.O=(t,a,n,o)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,n,o]=e[d],i=!0,c=0;c<a.length;c++)(!1&o||r>=o)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var m=n();void 0!==m&&(t=m)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={713:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,o,[r,i,c]=a,m=0;if(r.some((t=>0!==e[t]))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(c)var d=c(l)}for(t&&t(a);m<r.length;m++)o=r[m],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),l.nc=void 0;var n=l.O(void 0,[519,745,775,852],(()=>l(7258)));n=l.O(n)})();